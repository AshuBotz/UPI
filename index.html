<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link id="theme-style" rel="stylesheet" href="styles.css">
    <meta charset="UTF-8">
    <meta charset="UTF-8">
</head>
<body>
    <style>
    </style>
    <center>
        <div class="spinner-box">
            <div class="configure-border-1">  
                <div class="configure-core"></div>
            </div>  
            <div class="configure-border-2">
                <div class="configure-core"></div>
            </div> 
        </div>
        
        <h1 id="payHeading">Pay Now</h1>
        <p>Generate UPI &nbsp;<span id="countdown">10</span>&nbsp;Seconds...</p>
        <button class="button-92" role="button" id="paynow">Pay Now</button>
    </center>
</body>
<script>
    // Function to parse URL parameters
    function parseParams(url) {
        var params = {};
        var queryString = url.split('?')[1];
        if (queryString) {
            var pairs = queryString.split('&');
            for (var i = 0; i < pairs.length; i++) {
                var pair = pairs[i].split('=');
                params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1] || '');
            }
        }
        return params;
    }

    // Function to generate UPI payment link
    function generatePaymentLink(upi, name, amount, description) {
        return `upi://pay?pa=${encodeURIComponent(upi)}&pn=${encodeURIComponent(name)}&am=${encodeURIComponent(amount)}&tn=${encodeURIComponent(description)}&cu=INR`;
    }

    // Function to redirect to UPI payment link
    function redirectToUPI() {
        window.location.href = generatePaymentLink('{upi}', '{name}', '{amount}', '{description}');
    }

    // Countdown function
    function countdown() {
        var seconds = 10;
        var timer = setInterval(function() {
            document.getElementById("countdown").innerText = seconds;
            seconds--;
            if (seconds < 0) {
                clearInterval(timer);
                redirectToUPI();
            }
        }, 1000);
    }

    // Call countdown function when page loads
    window.onload = function() {
        countdown();
    };

    // Pay Now button click event
    document.getElementById("paynow").addEventListener("click", function() {
        redirectToUPI();
    });

    // Dynamic amount
    document.getElementById("payHeading").innerText = "Pay " + '{amount}' + " Now";
</script>
</html>
